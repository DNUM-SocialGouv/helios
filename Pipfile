[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
sqlalchemy = "==1.4.37"
psycopg2 = "2.9.3"
sentry-sdk = "1.16.0"
python-dotenv = "0.20.0"
pandas = "==1.5.2"
pyarrow = "==13.0.0"
lxml = "4.9.1"
numpy = "==1.24.2"

[dev-packages]
pylint = "==2.16.2"
mypy = "0.982"
pytest = "7.1.2"
pytest-mock = "3.7.0"
pandas-stubs = "~=1.4.3.220704"
sqlalchemy-stubs = "~=0.4"
freezegun = "1.2.1"
matplotlib = "3.5.2"
pytest-cov = "4.0.0"
pytest-watcher = "==0.2.1"
black = "==23.1.0"

[requires]
python_full_version = "3.10.8" # Conserver la même version que celle dans helios-ci.yml

[scripts]
encrypt_diamant = 'python -m datacrawler.test_helpers.chiffre_diamant'
decrypt_diamant = 'python -m datacrawler.déchiffre_diamant'
format = 'black datacrawler --config pyproject.toml'
format_check = 'black datacrawler --config pyproject.toml --check'
lint = 'pylint --rcfile pyproject.toml datacrawler'
populate_activite_et_medico_social = 'python -m datacrawler.ajoute_les_activités_des_établissements_médico_sociaux'
populate_activite_et_sanitaire = 'python -m datacrawler.ajoute_les_activités_des_établissements_sanitaires'
populate_autorisation_et_capacite_medico_social = 'python -m datacrawler.ajoute_les_autorisations_des_établissements_médico_sociaux'
populate_autorisation_et_capacite_sanitaire = 'python -m datacrawler.ajoute_les_autorisations_des_établissements_sanitaires'
populate_budget_et_finances_medico_social = 'python -m datacrawler.ajoute_le_bloc_budget_et_finances_des_établissements_médico_sociaux'
populate_budget_et_finances_entite_juridique = 'python -m datacrawler.ajoute_le_bloc_budget_et_finances_des_entite_juridiques'
populate_ressoures_humaines_medico_social = 'python -m datacrawler.ajoute_le_bloc_ressources_humaines_des_établissements_médico_sociaux'
populate_ressoures_humaines_entites_juridiques = 'python -m datacrawler.ajoute_le_bloc_ressources_humaines_des_entites_juridiques'
populate_ressoures_humaines_etablissements_sanitaires = 'python -m datacrawler.ajoute_le_bloc_ressources_humaines_des_etablissements_sanitaires'
populate_activites_sanitaire_entites_juridiques = 'python -m datacrawler.agrégation_activité_sanitaire'
populate_capacites_sanitaire_entites_juridiques = 'python -m datacrawler.agrégation_capacité_sanitaire'
populate_app_users = 'python -m datacrawler.import_utilisateurs'
populate_reclamations = 'python -m datacrawler.import_reclamations'
populate_evenements_indesirables = 'python -m datacrawler.import_evenements_indesirables'
populate_allocation_ressource = 'python -m datacrawler.import_allocation_ressource_hapi'
check_downloaded_sivss_file = 'python -m datacrawler.check_downloaded_sivss_file'
check_downloaded_siicea_file = 'python -m datacrawler.check_downloaded_siicea_file'
populate_inspections = 'python -m datacrawler.import_inspections'
populate_activites_mensuel = 'python -m datacrawler.import_activites_mensuel'
populate_activites_mensuel_ej = 'python -m datacrawler.import_activites_mensuel_entite_juridique'
transforme_parquet_en_csv = 'python -m datacrawler.transform_un_fichier_parquet_en_csv'
populate_vigie_rh_profession_filiere = 'python -m datacrawler.import_vigie_rh_profession_filiere'
populate_vigie_rh_profession_groupe = 'python -m datacrawler.import_vigie_rh_profession_groupe'
populate_tranches_ages = 'python -m datacrawler.import_vigierh_tranches_ages'
populate_mouvements_vigierh = 'python -m datacrawler.import_vigie_rh_mouvements'
populate_mouvements_vigierh_trimestriels = 'python -m datacrawler.import_vigie_rh_mouvements_trimestriels'
populate_vigierh_motifs_ruptures_contrats = 'python -m datacrawler.import_vigierh_motifs_ruptures_contrats'
populate_mouvements_vigierh_duree_cdd = 'python -m datacrawler.import_vigierh_duree_cdd'
populate_vigierh_nature_contrats = 'python -m datacrawler.import_vigierh_cdd_cdi'
populate_vigierh_nature_contrats_trimestriel = 'python -m datacrawler.import_vigierh_cdi_cdd_trimestriel'
populate_les_entites_juridiques = 'python -m datacrawler.import_les_entites_juridiques'
populate_les_etablissements_territoriaux = 'python -m datacrawler.import_les_etablissements_territoriaux'
populate_ref_categories = 'python -m datacrawler.import_ref_categories'
test = 'pytest --tb=short'
test_coverage = 'pytest --tb=short --cov=datacrawler --cov-report=xml'
test_watch = 'ptw'
typecheck = 'mypy --config pyproject.toml datacrawler'
